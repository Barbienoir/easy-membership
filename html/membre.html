<!doctype html>
<html lang="fr">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Nos Membres</title>

  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">

  <style>
    .member-card {
      background: #fff;
      border-radius: 10px;
      padding: 15px;
      box-shadow: 0 4px 12px rgba(0,0,0,0.08);
      transition: 0.3s;
    }
    .member-card:hover {
      transform: translateY(-5px);
      box-shadow: 0 6px 18px rgba(0,0,0,0.12);
    }
    .member-image img {
      width: 100%;
      height: 180px;
      object-fit: cover;
      border-radius: 8px;
    }
    .icon {
      color: #0b4d6b;
      margin-right: 6px;
    }
    .see-more {
      background: #0b4d6b;
      color: white;
      padding: 10px 20px;
      border-radius: 8px;
      border: none;
    }
    .btn-add {
      background: #0b4d6b;
      color: #fff;
      border-radius: 8px;
      padding: 10px 20px;
      border: none;
    }
  </style>
</head>
<body class="bg-light">

  <div class="container py-4">

    <!-- HEADER (Titre + bouton Ajouter) -->
    <div class="d-flex justify-content-between align-items-center mb-3">
      <h2 class="text-primary">Nos Membres</h2>

      <button class="btn-add" data-bs-toggle="modal" data-bs-target="#addModal">
        <i class="fa fa-plus"></i> Ajouter un membre
      </button>
    </div>

    <!-- LISTE DES MEMBRES -->
    <div id="members" class="row g-4"></div>

    <!-- BOUTON VOIR PLUS -->
    <div class="text-end mt-4">
      <button id="btnMore" class="see-more">Voir plus</button>
    </div>
  </div>

  <!-- MODAL AJOUTER UN MEMBRE -->
  <div class="modal fade" id="addModal" tabindex="-1">
    <div class="modal-dialog modal-dialog-centered">
      <div class="modal-content">

        <div class="modal-header">
          <h5 class="modal-title">Ajouter un membre</h5>
          <button class="btn-close" data-bs-dismiss="modal"></button>
        </div>

        <div class="modal-body">

          <div class="mb-3">
            <label>Nom complet</label>
            <input type="text" id="nom" class="form-control">
          </div>

          <div class="mb-3">
            <label>Rôle / Métier</label>
            <input type="text" id="role" class="form-control">
          </div>

          <div class="mb-3">
            <label>Lieu</label>
            <input type="text" id="lieu" class="form-control">
          </div>

          <div class="mb-3">
            <label>Date</label>
            <input type="text" id="date" class="form-control" placeholder="JJ/MM/AAAA HH:mm">
          </div>

          <div class="mb-3">
            <label>Téléphone</label>
            <input type="text" id="tel" class="form-control">
          </div>

          <div class="mb-3">
            <label>URL de l'image</label>
            <input type="text" id="img" class="form-control">
          </div>

        </div>

        <div class="modal-footer">
          <button class="btn btn-secondary" data-bs-dismiss="modal">Fermer</button>
          <button class="btn btn-primary" onclick="ajouterMembre()">Ajouter</button>
        </div>

      </div>
    </div>
  </div>

  <!-- Bootstrap JS -->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>

  <script>
    // Image chargée dans ta question
    const uploadedImage = "";

    // Liste des membres
    const membres = [
      {
        nom: "Mor FALL",
        role: "Dev C++",
        lieu: "Mbour",
        date: "26/03/2024 ",
        tel: "+221779999999",
        img: "https://sc04.alicdn.com/kf/H5bb7e4589cf643eb974b31a00e646db1i.jpg"
      },
      {
        nom: "Mouhamet Badiane",
        role: "UX/UI Designer",
        lieu: "Parcelles Assainies U 15",
        date: "18/03/2024",
        tel: "+221771142984",
        img: "https://diolkrea.com/wp-content/uploads/2024/06/Ensemble-Agbada-Noir-pour-Homme-4.png"
      },
      {
        nom: "David Smith",
        role: "Dev Python",
        lieu: "HLM Grand Yoff",
        date: "18/03/2024 ",
        tel: "+221704690870",
        img: "https://images.unsplash.com/photo-1522075469751-3a6694fb2f61"
      },
      {
        nom: "Michelle Dupont",
        role: "Dev Java",
        lieu: "Fass",
        date: "18/03/2024 ",
        tel: "+221778001010",
        img: "https://images.unsplash.com/photo-1556157382-97eda2d62296"
      }
    ];

    let index = 0;
    const perPage = 4;

    function afficherMembres() {
      const container = document.getElementById("members");

      const fin = Math.min(index + perPage, membres.length);

      for (let i = index; i < fin; i++) {
        const m = membres[i];

        container.innerHTML += `
          <div class="col-md-3 mb-4">
            <div class="member-card h-100">
              <div class="member-image mb-3">
                <img src="${m.img}" alt="${m.nom}">
              </div>
              <h5><i class="fa fa-user icon"></i>${m.nom}</h5>
              <p><i class="fa fa-star icon"></i>${m.role}</p>
              <p><i class="fa fa-location-dot icon"></i>${m.lieu}</p>
              <p><i class="fa fa-calendar icon"></i>${m.date}</p>
              <p><i class="fa fa-phone icon"></i>${m.tel}</p>
            </div>
          </div>

        `;
      }

      index = fin;

      // Cacher le bouton si tout est affiché
      if (index >= membres.length) {
        document.getElementById("btnMore").style.display = "none";
      }
    }

    function ajouterMembre() {
      const n = document.getElementById("nom").value;
      const r = document.getElementById("role").value;
      const l = document.getElementById("lieu").value;
      const d = document.getElementById("date").value;
      const t = document.getElementById("tel").value;
      const i = document.getElementById("img").value || uploadedImage;

      if (!n || !r || !l || !d || !t) {
        alert("Veuillez remplir tous les champs !");
        return;
      }

      // Ajouter membre au début de la liste
      membres.unshift({
        nom: n,
        role: r,
        lieu: l,
        date: d,
        tel: t,
        img: i
      });

      // Réinitialiser l'affichage
      document.getElementById("members").innerHTML = "";
      index = 0;

      afficherMembres();

      // Fermer modal
      const modal = bootstrap.Modal.getInstance(document.getElementById("addModal"));
      modal.hide();
    }

    // Charge les 4 premiers membres
    afficherMembres();
  </script>

</body>
</html>
